---
title: "ğŸª Cook'ies ğŸª"
subtitle: "<script>const currentDT = new Date().toLocaleDateString();document.write(currentDT);</script>"
author: "`AybukÃ© BICAT` & `Guillaume DEVANT`"
format:
    revealjs:
        slide-number: true
        mermaid-format: svg
        chalkboard: true
        transition: slide
        background-transition: fade
        theme: simple
        incremental: true  
        footer: "--- Big Data ---"
        logo: https://corentinducloux.fr/dossier_img/mecen_transparent.png
        controls : true
        preview-links: auto
        view-distance: 20
        fontsize: 2.0em
        reference-location: document
        include-in-header:
            - text: |
                <style>
                #title-slide .title {
                font-size: 1.75em;
                }
                </style>
jupyter: python3
---



## Introduction

*Cook'ies, qu'est-ce que c'est ?*

- Cook'ies est une application Shiny de recettes de cuisine mais pas seulement !

- Les sites de recettes de cuisine sont souvent peu **ergonomiques** et prÃ©sentent des **notes trÃ¨s subjectives** ... 

- **Cook'ies est la solution Ã  tous ces soucis !!!** âœ¨

- **Objectifs :** CrÃ©er une expÃ©rience utilisateur plus intuitive et objective


:::{.notes}

Cook'ies est une app shiny de recettes de cuisine du monde entier 





Avant de passer Ã  la recette de Cook'ies,  on va tout d'abord passer au + croustillant avec une prÃ©sentation de notre application.


- PrÃ©sentation de l'app :
    - page accueil assez rapide, dire l'utilitÃ© de l'app et ce qu'elle permet de faire, 
    - toute l'application tourne au tour de la sidebar, qu'on trouvera sur chq onglet
    - dÃ©crire les petites stats
- Recettes :
  - On a la base de donnÃ©es de toutes nos recettes, comme on l'a dit plus tÃ´t ce tableau peut Ãªtre mis Ã  jour en fonction de vos prÃ©fÃ©rences
  - sketch sidebar pour recette pays/niveau,  et sÃ©lectionner une recette Ã  la fin 
- Transition dÃ©tail recette:
  - dire les Ã©lÃ©ments qu'on trouve sur la page 
  - montrer qu'on peut rechercher une recette directement sur cette page 
  - pas besoin de scroller ou de changer de page pour visualiser toute la recette ce qui peut Ãªtre embetant lorsqu'on a les mains pleine de farine 

Maintenant qu'on a vu la partie qui interesse les chefs cuisiniers, on va plonger derriÃ¨re les fourneaux ! 
Notre chef veut ouvrir son resto et se spÃ©cialisÃ© dans la cuisine d'un de ces 5 pays, il veut alors s'interesser aux nb de recettes disponibles, et si ces recettes sont rentables dans la rÃ©alisation.

- Stats :
  - Nb de recettes par pays : 
  - CoÃ»t/pers : Avant d'ouvrir un resto, il peut Ãªtre interessant pour le chef de savoir combien cela coÃ»tera par personne et par pays. montre graph
  - Tps moyen :Il peut aussi se demander 
  - Niveau de difficultÃ© : difficultÃ© par pays
  
Une autre maniÃ¨re de visualiser ces donnÃ©es de maniÃ¨re plus esthÃ©tiques est possible grÃ¢ce aux cartes!

- Cartes : 
  - tps moyen : parler de l'algÃ©rie (tqt) et du japon (ils travaillent trop)
- coÃ»t moyen : thailande contre lituanie

- Notes :
  - Ã  montrer plus tard aprÃ¨s prÃ©sentation technique
:::


## SchÃ©ma

![](imgs/before.jpg)

:::{.notes}

sketch

:::

## SchÃ©ma

![](imgs/magnifik.jpg){width=90%}


:::{.notes}

*GuiÂ²*

*Buk*


*GuiÂ²*

:::




## Webscraping ğŸ•¸ï¸ {background-image="imgs/scrapingcuisine.jpeg" background-opacity="0.2"}


- DonnÃ©es rÃ©cupÃ©rÃ©es depuis : **CuisineAZ**.

- ğŸ¥¢ Ustensiles utilisÃ©s : Python avec `BeautifulSoup`, `requests`

- Liste de course ğŸ›’:
  - le pays ğŸŒ
  - le nom de la recette ğŸ½ï¸ 
  - l'image ğŸ“·
  - les ingrÃ©dients ğŸ¥–
  - la rÃ©alisation  de la recette ğŸ‘©â€ğŸ³
  - le coÃ»t ğŸ’°| temps âŒ› | difficultÃ© ğŸ“¶
  - les commentaires ğŸ’¬


:::{.fragment}
Extraction en **3 parties** : 
- RÃ©cupÃ©ration des pays
- RÃ©cupÃ©ration des recettes dans chaque pays
- RÃ©cupÃ©ration de la liste de course par recette
:::


:::{.notes}
*Buk*


On a rÃ©cupÃ©rÃ© nos donnÃ©es sur CuisineAZ, 


On avait une longue liste de course, avec lire liste

Et on a effectuÃ© le scraping en 3 parties

On a d'abord  rÃ©cupÃ©rÃ© les urls de chaque pays, ensuite dans chacun des pays on a rÃ©cupÃ©rÃ© les urls de chaque recette et enfin en parcourant toutes ces recettes, on a pu obtenir notre liste de course par recette qu'on a mis dans la chambre froide qui se nomme fichier JSON.

On vous Ã©pargne des dÃ©tails du webscraping puisqu'on a Ã  faire Ã  des pros dans cette salle.
:::


## Data cleaning ğŸ§¹ {background-image="imgs/datacleaning.jpeg" background-opacity="0.1"}


Avant de commencer Ã  cuisiner, on doit d'abord nettoyer nos ingrÃ©dients qui sont dans la chambre froide !

ğŸ¥¢Ustensile utilisÃ© : package `polars` ğŸ»â€â„ï¸

:::{.fragment}

Tips pour mieux rÃ©ussir sa recette ğŸ¯:
:::

- un temps claire (en heures)
- un coÃ»t numÃ©rique 
- le nombre de commentaires 
- une cartographie claire (nettoyage pays)


:::{.notes}
*GuiÂ²*

:::

## TraducciÃ³n ğŸŒ {background-image="imgs/traduction.jpg" background-opacity="0.2"}


Etant donnÃ© que CuisineAZ est un site franÃ§ais, les commentaires le sont Ã©galement...

Afin de nous faciliter la tÃ¢che, nous allons traduire les commentaires en anglais :

- cela permet de corriger les fautes d'orthographe
- pour l'analyse des sentiments, les dictionnaires sont en anglais 


:::{.fragment}
Utilisation du package `gtranslate` sur R (utilise l'API de google traduction)
:::

:::{.fragment}
C'est le module `translate.r` qui contient le script de traduction.
:::


:::{.notes}
*Buk*

:::


## Le Guide MICHELIN ğŸŒŸ {background-image="imgs/michelin.jpg" background-opacity="0.2"}


*Mais comment la note a Ã©tÃ© construite ?* ğŸ˜®

2 composantes principales avec le package `tidytext`

- MÃ©thode `afinn`: on calcule la somme des scores des adjectifs, puis on divise cette somme par le nombre de commentaires
- MÃ©thode `bing`: ratio Ã©valuant la proportion d'adjectifs positifs parmi tous les adjectifs 
  
:::{.fragment}

Standardisation Ã©chelle de 0 Ã  1 : $\frac{x_i - min(x)}{max(x) - min(x)}$

$\rightarrow$ **CrÃ©e la note sur 5**: en donnant un poids de $\frac{1}{2}$ Ã  chaque mÃ©thode, en les sommant et en multipliant le tout par 5.
:::

:::{.fragment}

**InconvÃ©nient** : absence de note lorsqu'il n'y a pas de commentaires.

:::

:::{.notes}
*GuiÂ²*


- Pourquoi on compose une note -> sur le site quand ya pas de note par dÃ©fault c'est 5/5. 

- CrÃ©e une note Ã  partir des commentaires des utilisateurs par le biais des adjectifs Ã  l'aide de tidytext.

- Les 2 mÃ©thodes afinn & bing pour crÃ©e deux note indÃ©pendante standardisÃ© qu'on a ensuite fusionner dans le but d'avoir Ã  la fin une note sur 5.

- InconvÃ©nient si il n'y a pas de commentaire il n'y a pas de note.

- *PrÃ©sentation de la page* nuage de mot, adjectifs puis note final


:::

## Application {background-image="imgs/shinycuisine.jpeg" background-opacity="0.2"}


> Application rÃ©alisÃ© sous R `shiny` Ã  l'aide de `bslib` et `shinyWidgets`

Shiny est un package R qui permet de crÃ©er *facilement* des applications web interactives pour l'analyse et la visualisation des donnÃ©es.

:::{.fragment}

âœ… Avantages : 
:::

- IntÃ©ractivitÃ©
- Open Source
- Bonne compatibiltiÃ© avec R

:::{.fragment}
âŒ InconvÃ©nients :
:::

- Lourd Ã  dÃ©velopper, peu intuitif.
- Performance (peut-Ãªtre lent)
- Documentation hasardeuse

:::{.notes}

*Buk*
:::

## Tableau `gt` intÃ©ractif? {background-image="imgs/tabinteractif.jpg" background-opacity="0.2"}


> Actuellement il n'y a pas la possibilitÃ© de lier un tableau gt avec Shiny.

- **Solution** : Convertir le tableau `gt` en `reactable`.

- **Notre utilisation** : Permet Ã  l'utilisateur de sÃ©lectionner une recette dans le tableau des recettes pour la visualiser dans l'onglet DÃ©tail Recette. 

- ProblÃ¨me dÃ» Ã  la conversion : Certaines features de `gt` se perdent lors de la conversion (exemple les drapeaux, le titre, ...)



:::{.notes}
*GuiÂ²*
:::

## Limites du projet {background-image="imgs/limites.jpeg" background-opacity="0.2"}


**ProblÃ¨me technique :**

- Parfois, les images des recettes ne chargent pas et on ne sait pas pourquoi ... ğŸ¤·ğŸ»â€â™€ï¸

:::{.fragment}
**Limites :**
:::


- Pas connectÃ© Ã  internet : pour la base de donnÃ©es, actualisation Ã  la main
- Si absence de commentaires, il n'y a pas de note.
- Les statistiques peu poussÃ©es dÃ» aux donnÃ©es scrapÃ©es.
- ProblÃ¨me de dimensions pour le wordcloud.

:::{.notes}
*Buk*
:::


## {background-image="imgs/naans.jpg" background-opacity="0.5"}

